(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{3022:function(e,t,n){"use strict";n(769)},3023:function(e,t,n){var o=n(65)((function(i){return i[1]}));o.push([e.i,"/*purgecss start ignore*/\n@-webkit-keyframes xfade-data-v-66fe6f27{\n20%{\n    opacity:1\n}\n25%{\n    opacity:0\n}\n80%{\n    opacity:0\n}\n}\n@keyframes xfade-data-v-66fe6f27{\n20%{\n    opacity:1\n}\n25%{\n    opacity:0\n}\n80%{\n    opacity:0\n}\n}\n.fade-images[data-v-66fe6f27]{\n  margin:auto;\n  position:relative;\n  width:10rem;\n  height:10rem;\n  max-width:100%\n}\n.fade-images img[data-v-66fe6f27]{\n  position:absolute;\n  top:0;\n  left:0;\n  right:0;\n  bottom:0\n}\n.fade-images img[data-v-66fe6f27]:first-child{\n  -webkit-animation:xfade-data-v-66fe6f27 6s linear 4s infinite normal;\n          animation:xfade-data-v-66fe6f27 6s linear 4s infinite normal\n}\n.fade-images img[data-v-66fe6f27]:nth-child(2){\n  -webkit-animation:xfade-data-v-66fe6f27 6s linear 2s infinite normal;\n          animation:xfade-data-v-66fe6f27 6s linear 2s infinite normal\n}\n.fade-images img[data-v-66fe6f27]:nth-child(3){\n  -webkit-animation:xfade-data-v-66fe6f27 6s linear 0s infinite normal;\n          animation:xfade-data-v-66fe6f27 6s linear 0s infinite normal\n}\n\n/*purgecss end ignore*/",""]),o.locals={},e.exports=o},3030:function(e,t,n){"use strict";n.r(t);var o=n(8),r=(n(53),n(579)),l=n.n(r),c=n(768),d=n(481),m=n.n(d),f={name:"App",data:function(){return{loading:!0,account:null,totalSupply:0,maxTokens:0,metaforgeInstance:null,metaforgeContract:null,privateSalePaused:!0,privateSaleMaxMintAmount:0,whitelisted:!1,amountMinted:0}},computed:{},created:function(){},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===window.ethereum){t.next=19;break}return console.log("MetaMask is installed!"),console.log(ethereum.networkVersion),console.log(ethereum.selectedAddress),e.metaforgeContract=l()(c),e.metaforgeContract.setProvider(window.ethereum),t.next=8,e.metaforgeContract.deployed();case 8:return e.metaforgeInstance=t.sent,console.log("Metaforge instance address",e.metaforgeInstance),t.next=12,e.connectWallet();case 12:return t.next=14,e.listenForEvents();case 14:return t.next=16,e.loadData();case 16:e.loading=!1,t.next=20;break;case 19:e.$notify.error({title:"Error",message:"Unable to connect to your wallet! Make sure you have Metamask installed!",duration:1e4});case 20:case"end":return t.stop()}}),t)})))()},methods:{connectWallet:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:n=t.sent,e.account=n[0],console.log("Connected account",e.account),e.$notify({title:"Success",message:"Successfully connected to your wallet!",type:"success",duration:2e3}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),e.$notify.error({title:"Error",message:"Unable to connect to your wallet! Make sure you have Metamask installed!",duration:1e4});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},loadData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=parseInt,t.next=4,e.metaforgeInstance.totalSupply();case 4:return t.t1=t.sent,e.totalSupply=(0,t.t0)(t.t1),t.t2=parseInt,t.next=9,e.metaforgeInstance.maxSupply();case 9:return t.t3=t.sent,e.maxTokens=(0,t.t2)(t.t3),t.next=13,e.metaforgeInstance.privateSalePaused();case 13:return e.privateSalePaused=t.sent,t.next=16,e.metaforgeInstance.privateSaleMaxMintAmount();case 16:return e.privateSaleMaxMintAmount=t.sent,t.next=19,e.metaforgeInstance.privateSaleWhitelist(e.account);case 19:return e.whitelisted=t.sent,t.next=22,e.metaforgeInstance.amountMintedPerAddress(e.account);case 22:e.amountMinted=t.sent,console.log(e.privateSalePaused,e.privateSaleMaxMintAmount,e.whitelisted,e.amountMinted),t.next=30;break;case 26:t.prev=26,t.t4=t.catch(0),console.error(t.t4),e.$notify.error({title:"Error",message:"Impossible to communicate with the NFT, make sure you have installed Metamask!",duration:1e4});case 30:case"end":return t.stop()}}),t,null,[[0,26]])})))()},listenForEvents:function(){var e=this;this.metaforgeInstance.Minted({fromBlock:"latest"}).on("data",(function(t){console.log("Event ",t),e.loadData()})),this.metaforgeInstance.PrivateSaleUpdated({fromBlock:"latest"}).on("data",(function(t){console.log("Event ",t),e.loadData()}))},mintNft:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,new m.a(window.ethereum),t.next=5,e.metaforgeInstance.cost();case 5:return n=t.sent,t.next=8,e.metaforgeInstance.mint(1,{from:e.account,gas:5e5,value:n});case 8:o=t.sent,console.log("Minted NFT...",o),e.$notify({title:"Success",message:"You have minted a NFT, you can see it on Opensea!",type:"success",duration:1e4}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0),e.$notify.error({title:"Error",message:"The NFT has not been minted, make sure you are using enough gas!",duration:1e4});case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}},v=(n(3022),n(59)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"flex flex-wrap justify-between items-center gap-2 mb-4"},[n("NuxtLink",{attrs:{to:"/"}},[n("span",{staticClass:"flex items-center"},[n("img",{staticClass:"h-10 w-10 inline",attrs:{src:"/logo.png"}}),e._v(" "),n("span",{staticClass:"text-xl font-bold"},[e._v("\n          The Metaforge - Private Sale\n        ")])])]),e._v(" "),e.account?n("div",{staticClass:"float-right bg-white text-black px-1 flex justify-center items-center"},[e._v("\n      "+e._s(e.account.slice(0,6))+"..."+e._s(e.account.slice(-4))+"\n    ")]):n("button",{staticClass:"float-right bg-white text-black px-1 flex justify-center items-center",on:{click:function(t){return e.connectWallet()}}},[e._v("\n      Connect wallet\n    ")])],1),e._v(" "),n("p",{staticClass:"text-center font-bold italic"},[e._v("\n    « Arm yourself for the metaverse »\n  ")]),e._v(" "),e.privateSalePaused?n("div",[n("button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-auto bg-white p-6 text-black mb-4 disabled:cursor-not-allowed relative flex justify-center items-center",attrs:{"element-loading-customClass":"block m-auto",disabled:!0}},[e._v("\n      The private sale is coming soon...\n    ")])]):e.whitelisted?e.amountMinted>=e.privateSaleMaxMintAmount?n("div",[n("button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-auto bg-white p-6 text-black mb-4 disabled:cursor-not-allowed relative flex justify-center items-center",attrs:{"element-loading-customClass":"block m-auto",disabled:!0}},[e._v("\n      You have minted all your NFTs for the private sale, you can buy more\n      during the public sale\n    ")])]):n("div",{staticClass:"my-4"},[n("button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-auto bg-white p-6 text-black mb-4 disabled:cursor-not-allowed relative flex justify-center items-center",attrs:{"element-loading-customClass":"block m-auto",disabled:e.loading||e.totalSupply>=e.maxTokens},on:{click:function(t){t.preventDefault(),e.account?e.mintNft():e.connectWallet()}}},[e._v("\n      MINT A NFT\n    ")]),e._v(" "),n("p",{staticClass:"text-center text-xs"},[e._v("\n      You can mint a total of "+e._s(e.privateSaleMaxMintAmount)+" NFTs (as long as\n      there are any left)"),n("br"),e._v("\n      Default gas limit is 250'000, price is 0.05 eth\n    ")]),e._v(" "),n("div",{staticClass:"h-10 w-96 max-w-full m-auto p-0.5 bg-white text-black "},[n("div",{staticClass:"bg-black h-full flex justify-center items-center",style:{width:e.totalSupply/e.maxTokens*100+"%"}})]),e._v(" "),n("p",{staticClass:"text-center"},[e._v("\n      "+e._s(e.totalSupply)+" / "+e._s(e.maxTokens)+" NFTs have been minted\n    ")])]):n("div",[n("button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-auto bg-white p-6 text-black mb-4 disabled:cursor-not-allowed relative flex justify-center items-center",attrs:{"element-loading-customClass":"block m-auto",disabled:!0}},[e._v("\n      You are not whitelisted for the private sale...\n    ")])])])}),[],!1,null,"66fe6f27",null);t.default=component.exports},769:function(e,t,n){var content=n(3023);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(66).default)("5a4957c6",content,!0,{sourceMap:!1})}}]);